(function(){var b,c,a;c=typeof exports!=="undefined"&&exports!==null?exports:window;c.Ivento||(c.Ivento={});(a=c.Ivento).Dci||(a.Dci={});c.Ivento.Dci.Context=b=(function(){function d(e){this.__contextProperty=e}d.prototype.bind=function(e){return d.bind(this,e,this.__contextProperty)};d.isFunction=function(e){return !!(e&&e.constructor&&e.call&&e.apply)};d.bind=function(f,h,g){var e;if(g==null){g="context"}f.__contextCache||(f.__contextCache={});(e=f.__contextCache)[h]||(e[h]={});return{to:function(q){var l,m,n,o,p,r,s,i,j,k;n=null;s=null;r=null;if(q._contract!=null){k=q._contract;for(i=0,j=k.length;i<j;i++){p=k[i];if(!(p in h)){throw"RolePlayer "+h+" didn't fulfill Role Contract with property '"+p+"'."}}}l=function(t){return function(){return q[t].apply(h,arguments)}};m=function(t,u){if(u==null){u=null}n=h.hasOwnProperty(t)?h[t]:false;f.__contextCache[h][t]=n;return h[t]=u!=null?u:l(t)};for(p in q){o=q[p];if(q.hasOwnProperty(p)){m(p)}}m(g,f);if(!(f.unbind!=null)){f.unbind=function(){var t;for(t in f.__contextCache){for(p in f.__contextCache[t]){n=f.__contextCache[t][p];if(n){h[p]=n}else{delete h[p]}}}f[r]=f.constructor.prototype[r];return delete f.unbind}}for(p in f){o=f[p];if(o===q){r=p;f[p]=h;return}}throw"Role for RolePlayer not found in Context."}}};return d})()}).call(this);