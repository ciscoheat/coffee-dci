(function(){var b={}.hasOwnProperty,a=function(c,f){for(var e in f){if(b.call(f,e)){c[e]=f[e]}}function d(){this.constructor=c}d.prototype=f.prototype;c.prototype=new d();c.__super__=f.prototype;return c};describe("Ivento.Dci.Context",function(){var c,d,e;describe("Static methods",function(){return xit("should return the parameter names correctly from a function",function(){var g;g=function(f,h,i,j){return true};return expect(Ivento.Dci.Context.paramNames(g)).toEqual(["a","bb","ccc","dddd"])})});c=(function(f){a(g,f);function g(h){this.bind({entries:h}).to(this.ledgers)}g.prototype.ledgers={addEntry:function(i,h){return this.entries.push({message:i,amount:h})},getBalance:function(){return this.entries.reduce((function(i,h){return i+h.amount}),0)}};g.prototype.balance=function(){return this.ledgers.getBalance()};g.prototype.increaseBalance=function(h){return this.ledgers.addEntry("Depositing",h)};g.prototype.decreaseBalance=function(h){return this.ledgers.addEntry("Withdrawing",-h)};return g})(Ivento.Dci.Context);d=null;e=null;return describe("Binding behaviour",function(){beforeEach(function(){e=[{message:"Start",amount:100},{message:"First deposit",amount:1000}];return d=new c(e)});it("should bind objects to roles using the bind() method",function(){expect(d.ledgers.entries).toBe(e);return expect(d.ledgers.getBalance()).toEqual(1100)});it("should be able to use the context methods",function(){return expect(d.balance()).toEqual(d.ledgers.getBalance())});return it("should modify the rolePlayers correctly",function(){d.increaseBalance(200);expect(d.balance()).toEqual(1300);d.decreaseBalance(1500);return expect(d.balance()).toEqual(-200)})})})}).call(this);